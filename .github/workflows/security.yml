name: Security

on:
  workflow_call:
    inputs:
      name:
        required: true
        type: string
      path:
        required: true
        type: string
      binary:
        required: true
        type: string

jobs:
  sast:
    uses: ./.github/workflows/sast.yml

  unit-test:
    uses: ./.github/workflows/unittest.yml
    with:
      path: ${{ inputs.path }}

  vuln:
    uses: ./.github/workflows/vuln.yml
    with:
      name: ${{ inputs.name }}
      path: ${{ inputs.path }}
      binary: ${{ inputs.binary }}


